<html>
	<body>
		<table style = "width:100%;height:400px">
			<tr>
				<td id = "tdButtons" style = "border-style:solid;width:30%;height:400px">
					<div>
						<button onclick = "composeFunction()">
							Compose
						</button>
					</div>
					<br>
					<div>
						<button onclick = "inboxFunction()">
							Inbox
						</button>
					</div>
					<br>
					<div>
						<button onclick = "draftFunction()">
							Draft
						</button>
					<div>
					<br>
						<button onclick = "sentFunction()" id = "sentId">
							Sent
						</button>
					</div>
				</td>
				<td id = "tdcontents" style = "border-style:solid;width:70%;vertical-align:top">
				</td>
			</tr>
		</table>
		<script>
			var inbox = [];
				var inboxObject = {"to":"santhosh21@gmail.com",
								   "from":"muthubalak24@gmail.com",
								   "sub":"This is the application regarding...",
								   "content":"This is the most usefull application we ever used its is the",
								   "time":"11:43PM"};
					inbox.push(inboxObject);
				var inboxObject2 = {"to":"johnish24@gmail.com",
								    "from":"shankarh62@gmail.com",
								    "sub":"This is the application regarding...",
								    "content":"This is the most usefull application we ever used its is the",
								    "time":"02:27AM"};
					inbox.push(inboxObject2);
					
			var sentBox = [];
				var sentBoxObject = {"to":"akashk238@gmail.com",
								     "from":"ravindra34@gmail.com",
								     "sub":"This is the application regarding...",
								     "content":"This is the most usefull application we ever used its is the",
								     "time":"10:16PM"};
					sentBox.push(sentBoxObject);
				var sentBoxObject2 = {"to":"krishna32@gmail.com",
									  "from":"ajithak22@gmail.com",
									  "sub":"This is the application regarding...",
								      "content":"This is the most usefull application we ever used its is the",
									  "time":"06:58AM"};
					sentBox.push(sentBoxObject2);
			
			function renderObject(mailType,mailTypeBox)
			{	
				var td2 = document.getElementById("tdcontents");
				var td2Childs = td2.childNodes;
				var td2ChildsLength = td2Childs.length;
				for(i=0;i<td2ChildsLength;i++){
					var td2ChildsIndex = td2Childs[0];
					td2ChildsIndex.remove();
				}
				for(i=0;i<mailType.length;i++){
				var mailList = mailType[i];
				var from = mailList.from;
				var sub = mailList.sub;
				var mainDiv = document.createElement("DIV");
					mainDiv.setAttribute("class","hidden");
					mainDiv.setAttribute("style","display:block");
					mainDiv.setAttribute("onclick","viewContent('"+i+"','"+mailTypeBox+"')");
				var span1 = document.createElement("span");
					span1.innerHTML = from.substring(0,14)+"..."+"|";
				var span2 = document.createElement("span");
					span2.innerHTML = sub.substring(0,23)+"...";
				var span3 = document.createElement("span");
					span3.innerHTML = '|'+mailList.time+'|'+'<hr>';
				document.getElementById("tdcontents").appendChild(mainDiv);
				mainDiv.appendChild(span1);
				mainDiv.appendChild(span2);
				mainDiv.appendChild(span3);
				}
			}
			function renderContent(mailContents,mailTypeBox)
			{
				var mainDiv = document.createElement("DIV");
					var backBt = document.createElement("BUTTON");
							backBt.setAttribute("style","float:right");
							backBt.setAttribute("onclick","backFunction('"+mailTypeBox+"')");
							backBt.innerHTML = " Back ";
						var heading = document.createElement("span");
							heading.innerHTML = '<h3> Main Content</h3>';
					var fromDiv = document.createElement("DIV");
						var fromSpan = document.createElement("span");
							fromSpan.innerHTML = '<b>&nbspFrom : </b>';
						var fromContent = document.createElement("span");
							fromContent.innerHTML = mailContents.from;
					var toDiv = document.createElement("DIV");
						var toSpan = document.createElement("span");
							toSpan.innerHTML = '<b>&nbspTo : </b>';
						var toContent = document.createElement("span");
							toContent.innerHTML = mailContents.to;
					var timeDiv = document.createElement("DIV");
						var timeSpan = document.createElement("span");
							timeSpan.innerHTML = '<b>&nbspTime : </b>';
						var timeContent = document.createElement("span");
							timeContent.innerHTML = mailContents.time;
					var subDiv = document.createElement("DIV");
						var subSpan = document.createElement("span");
							subSpan.innerHTML = '<b>&nbspSub : </b>';
						var subContent = document.createElement("span");
							subContent.innerHTML = mailContents.sub;
					var contentDiv = document.createElement("DIV");
						var Contents = document.createElement("span");
							Contents.innerHTML = '<br>'+mailContents.content;
							
				document.getElementById("tdcontents").appendChild(mainDiv);
				mainDiv.appendChild(backBt);
				mainDiv.appendChild(heading);
				fromDiv.appendChild(fromSpan);
				fromDiv.appendChild(fromContent);
				mainDiv.appendChild(fromDiv);
				toDiv.appendChild(toSpan);
				toDiv.appendChild(toContent);
				mainDiv.appendChild(toDiv);
				timeDiv.appendChild(timeSpan);
				timeDiv.appendChild(timeContent);
				mainDiv.appendChild(timeDiv);
				subDiv.appendChild(subSpan);
				subDiv.appendChild(subContent);
				mainDiv.appendChild(subDiv);
				contentDiv.appendChild(Contents);
				mainDiv.appendChild(contentDiv);
			}
			function renderNewContent()
			{
				var td2 = document.getElementById("tdcontents");
				var td2Childs = td2.childNodes;
				var td2ChildsLength = td2Childs.length;
					for(i=0;i<td2ChildsLength;i++){
						var td2ChildsIndex = td2Childs[0];
						td2ChildsIndex.remove();
				}
				var mainDiv = document.createElement("DIV");
					var closeBt = document.createElement("BUTTON");
						closeBt.setAttribute("onclick","closeFunction()");
						closeBt.setAttribute("style","float:right");
						closeBt.innerHTML = "X";
					var heading = document.createElement("span");
						heading.innerHTML = '<h4> New Message</h4>';
					var fromDiv = document.createElement("DIV");
						var fromSpan = document.createElement("span");
							fromSpan.innerHTML = '<b>&nbspFrom&nbsp</b>';
						var fromContent = document.createElement("INPUT");
							fromContent.setAttribute("style","width:250px");
							fromContent.setAttribute("id","fromId");
					var toDiv = document.createElement("DIV");
						var toSpan = document.createElement("span");
							toSpan.innerHTML = '<b>&nbspTo&nbsp</b>';
						var toContent = document.createElement("INPUT");
							toContent.setAttribute("style","width:250px");
							toContent.setAttribute("id","toId");
					var timeDiv = document.createElement("DIV");
						var timeSpan = document.createElement("span");
							timeSpan.innerHTML = '<b>&nbspTime&nbsp</b>';
						var timeContent = document.createElement("INPUT");
							timeContent.setAttribute("style","width:250px");
							timeContent.setAttribute("id","timeId");
					var subDiv = document.createElement("DIV");
						var subSpan = document.createElement("span");
							subSpan.innerHTML = '<b>&nbspSub&nbsp</b>';
						var subContent = document.createElement("INPUT");
							subContent.setAttribute("style","width:250px");
							subContent.setAttribute("id","subId");
					var contentDiv = document.createElement("DIV");
						var contents = document.createElement("INPUT");
							contents.setAttribute("style","width:400px");
							contents.setAttribute("id","contentId");
					var sendDiv = document.createElement("DIV");
						var sendBt = document.createElement("BUTTON");
							sendBt.setAttribute("onclick","sendFunction()");
							sendBt.innerHTML = "Send";
							
				document.getElementById("tdcontents").appendChild(mainDiv);
				mainDiv.appendChild(closeBt);
				mainDiv.appendChild(heading);
				mainDiv.appendChild(fromDiv);
				  fromDiv.appendChild(fromSpan);
				  fromDiv.appendChild(fromContent);
				mainDiv.appendChild(toDiv);
				  toDiv.appendChild(toSpan);
				  toDiv.appendChild(toContent);
				mainDiv.appendChild(timeDiv);
				  timeDiv.appendChild(timeSpan);
				  timeDiv.appendChild(timeContent);
				mainDiv.appendChild(subDiv);
				  subDiv.appendChild(subSpan);
				  subDiv.appendChild(subContent);
				mainDiv.appendChild(contentDiv);
				  contentDiv.appendChild(contents);
				mainDiv.appendChild(sendDiv);
				  sendDiv.appendChild(sendBt);
			}
			function inboxFunction()
			{
				renderObject(inbox, "inbox");
			}
			function sentFunction()
			{
				renderObject(sentBox, "sentBox");				
			}
			function viewContent(index,mailTypeBox)
			{	
				var indexValue = parseInt(index);
				var mailDetails;
					if(mailTypeBox == "inbox"){
						mailDetails = inbox[indexValue];
					}else if(mailTypeBox == "sentBox"){
						mailDetails = sentBox[indexValue];
					}
				renderContent(mailDetails,mailTypeBox);
				var div = [];
					div = document.getElementById("tdcontents").getElementsByClassName("hidden");
					for(i=0;i<div.length;i++){
						var divChildsIndex = div[i];
						divChildsIndex.style.display = "none";
					}
			}
			function backFunction(mailTypeBox)
			{
				if(mailTypeBox == "inbox"){
					renderObject(inbox,mailTypeBox);
				}else if(mailTypeBox == "sentBox"){
					renderObject(sentBox,mailTypeBox);
				}
			}
			function composeFunction()
			{
				renderNewContent();
			}
			function closeFunction()
			{
				renderObject(inbox, "inbox");
			}
			function sendFunction()
			{
					var sendButtonObject = {"to":document.getElementById("toId").value,
											"from":document.getElementById("fromId").value,
											"content":document.getElementById("contentId").value,
											"sub":document.getElementById("subId").value,
											"time":document.getElementById("timeId").value};
				sentBox.push(sendButtonObject);
				document.getElementById("fromId").value = "";
				document.getElementById("toId").value = "";   
				document.getElementById("timeId").value = "";
				document.getElementById("subId").value = "";
				document.getElementById("contentId").value = "";
			}
		</script>
	</body>
</html>